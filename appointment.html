<!DOCTYPE html>
<html>
<head>
<title>üè• Consultation Booking</title>

<style>

body{
font-family:'Segoe UI',Arial;
margin:0;
padding:30px;
background:linear-gradient(135deg,#e8f5e9,#e3f2fd);
}

/* ===== TITLE ===== */

h1{
text-align:center;
color:#2e7d32;
}

/* ===== CONSULTATION CARD ===== */

.serviceCard{
background:#4caf50;
color:white;
width:220px;
margin:20px auto;
padding:25px;
border-radius:18px;
text-align:center;
font-size:18px;
box-shadow:0 10px 20px rgba(0,0,0,.15);
}

/* ===== BOOKING SECTION ===== */

.booking{
background:white;
max-width:600px;
margin:30px auto;
padding:30px;
border-radius:20px;
box-shadow:0 10px 25px rgba(0,0,0,.12);
}

/* ===== INPUT ===== */

input[type="date"]{
width:100%;
padding:12px;
border-radius:10px;
border:1px solid #ccc;
margin:10px 0 20px 0;
}

/* ===== DOCTOR CARDS ===== */

.doctors{
display:flex;
gap:20px;
flex-wrap:wrap;
justify-content:center;
}

.docCard{
background:#f5f5f5;
padding:18px;
border-radius:15px;
width:200px;
cursor:pointer;
transition:.3s;
text-align:center;
}

.docCard:hover{
transform:scale(1.05);
}

.docCard.selected{
border:3px solid #4caf50;
}

.docCard img{
width:70px;
height:70px;
border-radius:50%;
margin-bottom:10px;
}

.rating{
color:#ffb400;
}

/* ===== CTA ===== */

.cta{
margin-top:25px;
width:100%;
padding:15px;
font-size:17px;
border:none;
border-radius:12px;
background:#4caf50;
color:white;
cursor:pointer;
transition:.3s;
}

.cta:hover{
background:#2e7d32;
transform:scale(1.03);
}

/* ===== RESULT CARD ===== */

.result{
margin-top:25px;
padding:20px;
background:#e8f5e9;
border-radius:15px;
text-align:center;
animation:fadeIn .4s ease;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;}
}

/* ===== BEAUTIFUL TRACK BUTTON ===== */

.trackBtn{
margin-top:15px;
padding:14px 22px;
border:none;
border-radius:30px;
font-size:16px;
font-weight:bold;
color:white;
cursor:pointer;
background:linear-gradient(45deg,#2196f3,#4caf50);
transition:.3s;
box-shadow:0 4px 15px rgba(0,0,0,.2);
}

.trackBtn:hover{
transform:scale(1.07);
box-shadow:0 6px 25px rgba(0,0,0,.3);
}

.trackBtn span{
display:inline-block;
animation:pulse 1.2s infinite;
}

@keyframes pulse{
0%{transform:translateX(0);}
50%{transform:translateX(4px);}
100%{transform:translateX(0);}
}

</style>
</head>

<body>

<h1>Consultation Booking</h1>

<div class="serviceCard">
ü©∫ Consultation
</div>

<div class="booking">

<label>Select Date</label>
<input type="date" id="date">

<h3>Select Doctor</h3>

<div class="doctors" id="doctorList"></div>

<button class="cta" onclick="bookAppointment()">
Confirm Booking
</button>

<div id="result"></div>

</div>

<script>

const API="http://localhost:3000";

let selectedDoctor="";

const doctors=[
{ name:"Dr. Sharma", specialty:"Cardiologist" },
{ name:"Dr. Meena", specialty:"Physician" },
{ name:"Dr. Khan", specialty:"Neurologist" }
];

function loadDoctors(){

doctorList.innerHTML=doctors.map(d=>`

<div class="docCard"
onclick="selectDoctor(this,'${d.name}')">

<img src="https://via.placeholder.com/70">

<b>${d.name}</b><br>
${d.specialty}<br>
<span class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>

</div>

`).join("");

}

loadDoctors();

function selectDoctor(el,name){

document.querySelectorAll('.docCard')
.forEach(c=>c.classList.remove('selected'));

el.classList.add('selected');

selectedDoctor=name;

}

async function bookAppointment(){

if(!selectedDoctor){
alert("Select doctor");
return;
}

const res=await fetch(API+"/book-appointment",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
service:"Consultation",
doctor:selectedDoctor,
date:date.value
})
});

const data=await res.json();

localStorage.setItem("patientToken",data.token);

result.innerHTML=`

<div class="result">
‚úÖ Appointment Confirmed<br><br>
üéü Token: <b>${data.token}</b><br>

<button class="trackBtn"
onclick="location='queue.html'">

üîî Track Queue <span>‚ûú</span>

</button>

</div>

`;

}

</script>

</body>
</html>
